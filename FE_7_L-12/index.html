<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FE_7 L12 BOM</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="script.js"></script>
</head>
<body>
<header>
    <h3 class="text-center">
        <a href="#">Our awesome LAB-7</a>
    </h3>
</header>

<div class="user-grid" id="studentsGrid"></div>
<div id="studentInfo"></div>
<div class="spinner">
    <div class="bounce1"></div>
    <div class="bounce2"></div>
    <div class="bounce3"></div>
</div>

<script src="students.js"></script>
<script>

    (function () {

        window.addEventListener('hashchange', hashRouter);
        hashRouter();

    }());

    function hashRouter(e) {
        showLoader(true);
        clearStudentsList();
        clearStudentInfo();

        setTimeout(function () {
            showLoader(false);

            if (location.hash === '') {
                displayAll();
            } else {
                displayUser() || (location.hash = '');
            }

        }, 2000);

    }

    function displayAll() {
        renderStudents(students);
    }

    function displayUser() {
        let user = findStudentByLastName(location.hash);
        if (user) {
            renderStudentInfo(user);
            return true;
        }
    }

    function findStudentByLastName(lastName) {
        return students.find(function matcher(el) {
            return el.lastName === lastName.slice(1);
        });
    }

</script>
</body>
</html>